---
title: Integrations
excerpt: ''
deprecated: false
hidden: false
metadata:
  title: ''
  description: ''
  robots: noindex
next:
  description: ''
---
You can send VWO's campaign information to third-party analytics platforms by using notification listeners. You can then segment the analytics report by using VWO's campaign id, campaign name, variation id, or name.

Next, you will find suggested implementations for some common analytics platforms. Feel free to use these as showcased or adapt these to meet your specific needs.

Broadcast Receiver also allows for flexibility to implement an integration with a platform that is not listed here.

## Broadcast Receiver
The code can listen to a local Broadcast by using [LocalBroadcastManager](https://developer.android.com/reference/android/support/v4/content/LocalBroadcastManager.html) on the key ```VWO.Constants.NOTIFY_USER_TRACKING_STARTED```.

## Broadcast Data
  * On Receiving the broadcast intent, you can get the campaign data from [Bundle](https://developer.android.com/reference/android/os/Bundle.html) attached with [Intent](https://developer.android.com/reference/android/content/Intent.html).
[block:code]
{
  "codes": [
    {
      "code": "import android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.content.BroadcastReceiver;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.support.v4.content.LocalBroadcastManager;\n\nimport com.vwo.mobile.VWO;\n\npublic class MainActivity extends AppCompatActivity {\n    \n  private BroadcastReceiver receiver = new BroadcastReceiver() {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n      // Get the campaign data for which the user became part of.\n      Bundle extras = intent.getExtras();\n      String campaignId = extras.getString(VWO.Constants.ARG_CAMPAIGN_ID);\n      String campaignName = extras.getString(VWO.Constants.ARG_CAMPAIGN_NAME);\n      String variationId = extras.getString(VWO.Constants.ARG_VARIATION_ID);\n      String variationName = extras.getString(VWO.Constants.ARG_VARIATION_NAME);\n\n      // TODO: Write your analytics code here.\n    }\n  };\n\n  @Override\n  protected void onStart() {\n    super.onStart();\n    // Create an intent filter for broadcast receiver.\n    IntentFilter intentFilter = new IntentFilter(VWO.Constants.NOTIFY_USER_TRACKING_STARTED);\n\n    // Register your broadcast receiver\n    LocalBroadcastManager.getInstance(this).registerReceiver(receiver, intentFilter);\n  }\n\n  @Override\n  protected void onStop() {\n    super.onStop();\n    // Unregister your broadcast receiver.\n    LocalBroadcastManager.getInstance(this).unregisterReceiver(receiver);\n  }\n}\n",
      "language": "java"
    },
    {
      "code": "import android.content.BroadcastReceiver\nimport android.content.Context\nimport android.content.Intent\nimport android.content.IntentFilter\nimport android.support.v4.content.LocalBroadcastManager\nimport android.support.v7.app.AppCompatActivity\n\nimport com.vwo.mobile.VWO\n\nclass MainActivity : AppCompatActivity() {\n  private val receiver = object : BroadcastReceiver() {\n    override fun onReceive(context: Context, intent: Intent) {\n      // Get the campaign data for which the user became part of.\n      val extras = intent.extras\n        val campaignId = extras!!.getString(VWO.Constants.ARG_CAMPAIGN_ID)\n        val campaignName = extras.getString(VWO.Constants.ARG_CAMPAIGN_NAME)\n        val variationId = extras.getString(VWO.Constants.ARG_VARIATION_ID)\n        val variationName = extras.getString(VWO.Constants.ARG_VARIATION_NAME)\n\n        // TODO: Write your analytics code here.\n    }\n  }\n\n  override fun onStart() {\n    super.onStart()\n      // Create an intent filter for broadcast receiver.\n      val intentFilter = IntentFilter(VWO.Constants.NOTIFY_USER_TRACKING_STARTED)\n\n      // Register your broadcast receiver\n      LocalBroadcastManager.getInstance(this).registerReceiver(receiver, intentFilter)\n  }\n\n  override fun onStop() {\n    super.onStop()\n      // Unregister your broadcast receiver.\n      LocalBroadcastManager.getInstance(this).unregisterReceiver(receiver)\n  }\n}",
      "language": "kotlin",
      "name": "Kotlin"
    }
  ]
}
[/block]
It contains the following keys:
- ```VWO.Constants.ARG_CAMPAIGN_ID```: The identifier of the campaign; this is generated by VWO. This is unique for your account.
- ```VWO.Constants.ARG_CAMPAIGN_NAME```: The name of the campaign, as set by you. This is not necessarily unique.
- ```VWO.Constants.ARG_VARIATION_ID```: The identifier of the variation in the campaign of which the user became the part. A Variation Id is unique for its campaign, but it is not unique across different campaigns.
- ```VWO.Constants.ARG_VARIATION_NAME```: The name of the variation in the campaign, as set by you. This is not necessarily unique.
[block:api-header]
{
  "title": "Amplitude"
}
[/block]
Please refer to the [Amplitude android guide](https://amplitude.zendesk.com/hc/en-us/articles/115004749807-Android-SDK-Reference) if you are getting started with Amplitude.

In the following suggested approach for Amplitude, we use [Events](https://amplitude.zendesk.com/hc/en-us/articles/115004749807-Android-SDK-Reference#methods-1).

We add a Broadcast Receiver to listen to the Local broadcast with the key ```VWO.Constants.NOTIFY_USER_TRACKING_STARTED```. When the callback is requested, we send an event to Amplitude when a user becomes a part of a campaign. In the event, we are sending the campaign name and id, along with the variation name and id.

Events in Amplitude take an event name and event properties in the form of a dictionary. 

If the campaign name is **TestSignup** and campaign id is **21**, we can set the event name as **VWO Campaign - TestSignup - 21**. We also send event parameters as campaign_name, campaign_id, variation_name, and variation_id.
[block:code]
{
  "codes": [
    {
      "code": "private BroadcastReceiver receiver = new BroadcastReceiver() {\n  @Override\n  public void onReceive(Context context, Intent intent) {\n    // Get the campaign data for which there user has become the part.\n    Bundle extras = intent.getExtras();\n    String campaignId = extras.getString(VWO.Constants.ARG_CAMPAIGN_ID);\n    String campaignName = extras.getString(VWO.Constants.ARG_CAMPAIGN_NAME);\n    String variationId = extras.getString(VWO.Constants.ARG_VARIATION_ID);\n    String variationName = extras.getString(VWO.Constants.ARG_VARIATION_NAME);\n\n    // Create event properties json object\n    JSONObject jsonObjectProperties = new JSONObject();\n    try {\n      jsonObjectProperties.put(\"campaignId\", campaignId);\n      jsonObjectProperties.put(\"campaignName\", campaignName);\n      jsonObjectProperties.put(\"variationId\", variationId);\n      jsonObjectProperties.put(\"variationName\", variationName);\n    } catch (JSONException exception) {\n      Log.e(LOG_TAG, \"Unable to create json object\", exception);\n    }\n\n    // send event to Amplitude\n    Amplitude.getInstance().logEvent(\"campaign_started\", jsonObjectProperties);\n\n  }\n};",
      "language": "java",
      "name": "Java"
    },
    {
      "code": "private val receiver = object : BroadcastReceiver() {\n  override fun onReceive(context: Context, intent: Intent) {\n    // Get the campaign data for which there user has become the part.\n    val extras = intent.extras\n      val campaignId = extras!!.getString(VWO.Constants.ARG_CAMPAIGN_ID)\n      val campaignName = extras.getString(VWO.Constants.ARG_CAMPAIGN_NAME)\n      val variationId = extras.getString(VWO.Constants.ARG_VARIATION_ID)\n      val variationName = extras.getString(VWO.Constants.ARG_VARIATION_NAME)\n\n      // Create event properties json object\n      val jsonObjectProperties = JSONObject()\n      try {\n        jsonObjectProperties.put(\"campaignId\", campaignId)\n          jsonObjectProperties.put(\"campaignName\", campaignName)\n          jsonObjectProperties.put(\"variationId\", variationId)\n          jsonObjectProperties.put(\"variationName\", variationName)\n      } catch (exception: JSONException) {\n        Log.e(LOG_TAG, \"Unable to create json object\", exception)\n      }\n\n    // send event to Amplitude\n    Amplitude.getInstance().logEvent(\"campaign_started\", jsonObjectProperties)\n\n  }\n}",
      "language": "kotlin",
      "name": "Kotlin"
    }
  ]
}
[/block]

[block:api-header]
{
  "title": "Flurry"
}
[/block]
Please refer to the [Flurry android guide](https://developer.yahoo.com/flurry/docs/integrateflurry/android/) if you are getting started with Flurry.

In the following suggested approach for Flurry, we use [Custom Events](https://developer.yahoo.com/flurry/docs/analytics/gettingstarted/events/android/).

We add a Broadcast Receiver to listen to the Local broadcast with the key ```VWO.Constants.NOTIFY_USER_TRACKING_STARTED```. When the callback is requested, we send an event to Flurry when a user becomes part of a campaign. In the event, we are sending the campaign name and id, along with the variation name and id.

Events in Flurry have a two-level structure. The highest level is the specific action, in this case, **VWO.** The second level in the Event structure is the Event parameter.

If the campaign name is **TestSignup** and campaign id is **21**, we can set the event name as **VWO Campaign - TestSignup - 21**. We also send event parameters as campaign_name, campaign_id, variation_name, and variation_id.

Per Flurry, you must initiate the session with one of the startSession method variants, prior to logging any events. Any events logged prior to session initialization are not recorded.
[block:code]
{
  "codes": [
    {
      "code": "private BroadcastReceiver receiver = new BroadcastReceiver() {\n  @Override\n  public void onReceive(Context context, Intent intent) {\n    // Get the campaign data for which there user has become the part.\n    Bundle extras = intent.getExtras();\n    String campaignId = extras.getString(VWO.Constants.ARG_CAMPAIGN_ID);\n    String campaignName = extras.getString(VWO.Constants.ARG_CAMPAIGN_NAME);\n    String variationId = extras.getString(VWO.Constants.ARG_VARIATION_ID);\n    String variationName = extras.getString(VWO.Constants.ARG_VARIATION_NAME);\n\n    // Create event properties map\n    Map<String, String> mapProperties = new HashMap<>();\n    mapProperties.put(\"campaignId\", campaignId);\n    mapProperties.put(\"campaignName\", campaignName);\n    mapProperties.put(\"variationId\", variationId);\n    mapProperties.put(\"variationName\", variationName);\n\n    // send event to Flurry\n    FlurryAgent.logEvent(\"campaign_started\", mapProperties);\n\n  }\n};",
      "language": "java"
    },
    {
      "code": "private val receiver = object : BroadcastReceiver() {\n  override fun onReceive(context: Context, intent: Intent) {\n    // Get the campaign data for which there user has become the part.\n    val extras = intent.extras\n      val campaignId = extras!!.getString(VWO.Constants.ARG_CAMPAIGN_ID)\n      val campaignName = extras.getString(VWO.Constants.ARG_CAMPAIGN_NAME)\n      val variationId = extras.getString(VWO.Constants.ARG_VARIATION_ID)\n      val variationName = extras.getString(VWO.Constants.ARG_VARIATION_NAME)\n\n      // Create event properties map\n      val mapProperties: HashMap<String, String> = HashMap()\n        mapProperties[\"campaignId\"] = campaignId\n        mapProperties[\"campaignName\"] = campaignName\n        mapProperties[\"variationId\"] = variationId\n        mapProperties[\"variationName\"] = variationName\n\n        // send event to Flurry\n        FlurryAgent.logEvent(\"campaign_started\", mapProperties)\n\n  }\n}",
      "language": "kotlin",
      "name": "Kotlin"
    }
  ]
}
[/block]

[block:api-header]
{
  "title": "Google Analytics"
}
[/block]
Please refer to the [Google Analytics Android guide](https://developers.google.com/analytics/devguides/collection/android/v4/) if you are getting started with Google Analytics.

In the following suggested approach for Google Analytics, we use [Events](https://developers.google.com/analytics/devguides/collection/android/v4/events). 

We add a Broadcast Receiver to listen to the Local broadcast with the key ```VWO.Constants.NOTIFY_USER_TRACKING_STARTED```. When the callback is requested, we send an event to Google Analytics when a user becomes part of a campaign. In the event, we send the campaign name and id, along with the variation name and id.

The next step is to build segments for each variation of your campaign. In the segment-builder user interface, look under **Advanced** and add a new Condition. Select to filter **Users** by **Event Action** and **Event Label**, type a name for the segment, and then click **Save**.

Finally, build a report of metrics you are interested in.
[block:code]
{
  "codes": [
    {
      "code": "public class MainActivity extends AppCompatActivity {\n  private BroadcastReceiver receiver = new BroadcastReceiver() {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n      // Get the campaign data for which there user has become the part.\n      Bundle extras = intent.getExtras();\n      String campaignId = extras.getString(VWO.Constants.ARG_CAMPAIGN_ID);\n      String campaignName = extras.getString(VWO.Constants.ARG_CAMPAIGN_NAME);\n      String variationId = extras.getString(VWO.Constants.ARG_VARIATION_ID);\n      String variationName = extras.getString(VWO.Constants.ARG_VARIATION_NAME);\n\n      // Create data keys\n      String category = String.format(\"%s,%s\", campaignName, campaignId);\n      String action = String.format(\"%s,%s\", campaignName, campaignId);\n      String label = String.format(\"%s,%s\", variationName, variationId);\n\n      // send event to Google analytics\n      Tracker tracker = ((VWOApplication) getApplication()).getDefaultTracker();\n              tracker.send(new HitBuilders.EventBuilder()\n                      .setCategory(category)\n                      .setAction(action)\n                      .setLabel(label).build());\n\n    }\n  };\n}",
      "language": "java",
      "name": "MainActivity.java"
    },
    {
      "code": "public class VWOApplication extends Application {\n  private static GoogleAnalytics sAnalytics;\n  private static Tracker sTracker;\n\n  @Override\n  public void onCreate() {\n    super.onCreate();\n    sAnalytics = GoogleAnalytics.getInstance(this);\n  }\n\n  /**\n     * Gets the default {@link Tracker} for this {@link Application}.\n     * @return tracker\n     */\n  synchronized public Tracker getDefaultTracker() {\n    // To enable debug logging use: adb shell setprop log.tag.GAv4 DEBUG\n    if (sTracker == null) {\n      sTracker = sAnalytics.newTracker(R.xml.global_tracker);\n    }\n\n    return sTracker;\n  }\n}",
      "language": "java",
      "name": "VWOApplication.java"
    },
    {
      "code": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<resources>\n    <string name=\"ga_trackingId\" translatable=\"false\">${YOUR_TRACKING_ID}</string>\n</resources>",
      "language": "xml",
      "name": "res/xml/global_tracker.xml"
    },
    {
      "code": "class MainActivity : AppCompatActivity() {\n  private val receiver = object : BroadcastReceiver() {\n    override fun onReceive(context: Context, intent: Intent) {\n      // Get the campaign data for which there user has become the part.\n      val extras = intent.extras\n        val campaignId = extras!!.getString(VWO.Constants.ARG_CAMPAIGN_ID)\n        val campaignName = extras.getString(VWO.Constants.ARG_CAMPAIGN_NAME)\n        val variationId = extras.getString(VWO.Constants.ARG_VARIATION_ID)\n        val variationName = extras.getString(VWO.Constants.ARG_VARIATION_NAME)\n\n        // Create data keys\n        val category = String.format(\"%s,%s\", campaignName, campaignId)\n        val action = String.format(\"%s,%s\", campaignName, campaignId)\n        val label = String.format(\"%s,%s\", variationName, variationId)\n\n        // send event to Google analytics\n        val tracker = (application as VWOApplication).getDefaultTracker()\n        tracker.send(HitBuilders.EventBuilder()\n                     .setCategory(category)\n                     .setAction(action)\n                     .setLabel(label).build())\n\n    }\n  }\n}",
      "language": "kotlin",
      "name": "MainActivity.kt"
    },
    {
      "code": "class VWOApplication : Application() {\n  /**\n     * Gets the default [Tracker] for this [Application].\n     * @return tracker\n     */\n  // To enable debug logging use: adb shell setprop log.tag.GAv4 DEBUG\n  val defaultTracker: Tracker\n    @Synchronized get() {\n    if (sTracker == null) {\n      sTracker = sAnalytics!!.newTracker(R.xml.global_tracker)\n    }\n\n    return sTracker\n  }\n\n  override fun onCreate() {\n    super.onCreate()\n      sAnalytics = GoogleAnalytics.getInstance(this)\n  }\n\n  companion object {\n    private var sAnalytics: GoogleAnalytics? = null\n      private var sTracker: Tracker? = null\n  }\n}",
      "language": "kotlin",
      "name": "VWOApplication.kt"
    }
  ]
}
[/block]
## Google Custom Dimensions

Google also offers [Custom Dimensions](https://developers.google.com/analytics/devguides/collection/android/v4/customdimsmets), which enables association of metadata with hits, users, and sessions in Google Analytics.

As part of the above approach, we only send an event to Google Analytics. You may choose to set custom dimensions. To do this, refer to the **Custom Dimensions and Metrics** section in Google Analytics and then set custom dimensions in the notification callback.

The next step is to make changes in Google Analytics. Look for the **Admin** option in the menu bar, and then select the appropriate account and a property. Under **Property**, select **Custom Definitions > New Custom Dimensions**. Type a unique name for the dimension, select **User** for the scope, and then click **Create**.

You can now see the reports according to the custom dimension.
[block:api-header]
{
  "title": "Localytics"
}
[/block]
Please refer to the [Localytics android guide](https://docs.localytics.com/dev/android.html#getting-started-android) if you are getting started with Localytics.

In the following suggested approach for Localytics, we use the [Custom event with attributes](https://docs.localytics.com/dev/android.html#tag-event-with-attributes-android).

We add a Broadcast Receiver to listen to the Local broadcast with the key ```VWO.Constants.NOTIFY_USER_TRACKING_STARTED```. When the callback is requested, we send an event to Localytics when a user becomes a part of a campaign. In the event, we are sending the campaign name and id, along with the variation name and id.

Localytics also offers a way to set [user attributes](https://docs.localytics.com/dev/android.html#profile-set-attribute-android). You can set the user attributes for VWO's campaign data as well.

The custom event in Localytics has an event name and attributes.
If the campaign name is **TestSignup** and campaign id is **21**, we can set the event name as **VWO Campaign - TestSignup - 21**. We also send event parameters as campaign_name, campaign_id, variation_name, and variation_id.
[block:code]
{
  "codes": [
    {
      "code": "private BroadcastReceiver receiver = new BroadcastReceiver() {\n  @Override\n  public void onReceive(Context context, Intent intent) {\n    // Get the campaign data for which there user has become the part.\n    Bundle extras = intent.getExtras();\n    String campaignId = extras.getString(VWO.Constants.ARG_CAMPAIGN_ID);\n    String campaignName = extras.getString(VWO.Constants.ARG_CAMPAIGN_NAME);\n    String variationId = extras.getString(VWO.Constants.ARG_VARIATION_ID);\n    String variationName = extras.getString(VWO.Constants.ARG_VARIATION_NAME);\n\n    // Create event properties map\n    Map<String, String> mapProperties = new HashMap<>();\n    mapProperties.put(\"campaignId\", campaignId);\n    mapProperties.put(\"campaignName\", campaignName);\n    mapProperties.put(\"variationId\", variationId);\n    mapProperties.put(\"variationName\", variationName);\n\n    // send event to Localytics\n    Localytics.tagEvent(\"campaign_started\", mapProperties);\n\n  }\n};",
      "language": "java"
    },
    {
      "code": "private val receiver = object : BroadcastReceiver() {\n  override fun onReceive(context: Context, intent: Intent) {\n    // Get the campaign data for which there user has become the part.\n    val extras = intent.extras\n    val campaignId = extras!!.getString(VWO.Constants.ARG_CAMPAIGN_ID)\n    val campaignName = extras.getString(VWO.Constants.ARG_CAMPAIGN_NAME)\n    val variationId = extras.getString(VWO.Constants.ARG_VARIATION_ID)\n    val variationName = extras.getString(VWO.Constants.ARG_VARIATION_NAME)\n\n    // Create event properties map\n    val mapProperties: HashMap<String, String> = HashMap()\n    mapProperties[\"campaignId\"] = campaignId\n    mapProperties[\"campaignName\"] = campaignName\n    mapProperties[\"variationId\"] = variationId\n    mapProperties[\"variationName\"] = variationName\n\n    // send event to Localytics\n    Localytics.tagEvent(\"campaign_started\", mapProperties)\n\n  }\n}",
      "language": "kotlin",
      "name": "Kotlin"
    }
  ]
}
[/block]

[block:api-header]
{
  "title": "Mixpanel"
}
[/block]
Please refer to the [Mixpanel android guide](https://mixpanel.com/help/reference/android) if you are getting started with Mixpanel.

In the following suggested approach for Mixpanel, we use [Events](https://mixpanel.com/help/reference/android#sending_events). Mixpanel also offers a way to set [super properties](https://mixpanel.com/help/reference/android#superproperties) and [user profiles](https://mixpanel.com/help/reference/android#creating_profiles).

We add Broadcast Receiver to listen to the Local broadcast with the key ```VWO.Constants.NOTIFY_USER_TRACKING_STARTED```. When the callback is requested, we send an event to Mixpanel when a user becomes a part of a campaign. In the event, we are sending the campaign name and id, along with the variation name and id.

If you wish to use super properties or people properties, pleaseÂ feel free to modify the following code and send appropriate values to Mixpanel.

The next step is to look for VWO events in your Mixpanel account. You can look at the funnels with the VWO event or look at the segment data.
[block:code]
{
  "codes": [
    {
      "code": "private BroadcastReceiver receiver = new BroadcastReceiver() {\n  @Override\n  public void onReceive(Context context, Intent intent) {\n    // Get the campaign data for which there user has become the part.\n    Bundle extras = intent.getExtras();\n    String campaignId = extras.getString(VWO.Constants.ARG_CAMPAIGN_ID);\n    String campaignName = extras.getString(VWO.Constants.ARG_CAMPAIGN_NAME);\n    String variationId = extras.getString(VWO.Constants.ARG_VARIATION_ID);\n    String variationName = extras.getString(VWO.Constants.ARG_VARIATION_NAME);\n\n    // Create event properties json object\n    JSONObject jsonObjectProperties = new JSONObject();\n    try {\n      jsonObjectProperties.put(\"campaignId\", campaignId);\n      jsonObjectProperties.put(\"campaignName\", campaignName);\n      jsonObjectProperties.put(\"variationId\", variationId);\n      jsonObjectProperties.put(\"variationName\", variationName);\n    } catch (JSONException exception) {\n      Log.e(LOG_TAG, \"Unable to create json object\", exception);\n    }\n\n    // send event to Mixpanel\n    MixpanelAPI mixpanel = MixpanelAPI.getInstance(MainActivity.this, \"<YOUR_MIXPANEL_TOKEN>\");\n    mixpanel.track(\"campaign_started\", jsonObjectProperties);\n  }\n};",
      "language": "java"
    },
    {
      "code": "private val receiver = object : BroadcastReceiver() {\n  override fun onReceive(context: Context, intent: Intent) {\n    // Get the campaign data for which there user has become the part.\n    val extras = intent.extras\n    val campaignId = extras!!.getString(VWO.Constants.ARG_CAMPAIGN_ID)\n    val campaignName = extras.getString(VWO.Constants.ARG_CAMPAIGN_NAME)\n    val variationId = extras.getString(VWO.Constants.ARG_VARIATION_ID)\n    val variationName = extras.getString(VWO.Constants.ARG_VARIATION_NAME)\n\n    // Create event properties json object\n    val jsonObjectProperties = JSONObject()\n    try {\n      jsonObjectProperties.put(\"campaignId\", campaignId)\n      jsonObjectProperties.put(\"campaignName\", campaignName)\n      jsonObjectProperties.put(\"variationId\", variationId)\n      jsonObjectProperties.put(\"variationName\", variationName)\n    } catch (exception: JSONException) {\n      Log.e(LOG_TAG, \"Unable to create json object\", exception)\n    }\n\n    // send event to Mixpanel\n    val mixpanel = MixpanelAPI.getInstance(this@MainActivity, \"<YOUR_MIXPANEL_TOKEN>\")\n    mixpanel.track(\"campaign_started\", jsonObjectProperties)\n  }\n}",
      "language": "kotlin",
      "name": "Kotlin"
    }
  ]
}
[/block]

[block:api-header]
{
  "title": "Segment"
}
[/block]
Please refer to the [Segment guide](https://segment.com/docs/sources/mobile/android/#getting-started) if you are getting started with Segment.

Segment has a [spec](https://segment.com/docs/spec/ab-testing/) for A/B testing events.

We add a Broadcast Receiver to listen to the Local broadcast with the key ```VWO.Constants.NOTIFY_USER_TRACKING_STARTED``` and when the callback is requested, we send an event to **Segment** when a user becomes part of a campaign. In the event, we are sending the campaign name and id, along with the variation name and id.

If the campaign name is **TestSignup** and campaign id is **21**, we can set the event name as **Experiment Viewed**. We also send event parameters as experimentId, experimentName, variationId, and variationName.
[block:code]
{
  "codes": [
    {
      "code": "private BroadcastReceiver receiver = new BroadcastReceiver() {\n  @Override\n  public void onReceive(Context context, Intent intent) {\n    // Get the campaign data for which there user has become the part.\n    Bundle extras = intent.getExtras();\n    String campaignId = extras.getString(VWO.Constants.ARG_CAMPAIGN_ID);\n    String campaignName = extras.getString(VWO.Constants.ARG_CAMPAIGN_NAME);\n    String variationId = extras.getString(VWO.Constants.ARG_VARIATION_ID);\n    String variationName = extras.getString(VWO.Constants.ARG_VARIATION_NAME);\n\n    // Create event properties object\n    Properties segmentProperties = new Properties();\n    segmentProperties.put(\"experimentId\", campaignId);\n    segmentProperties.put(\"experimentName\", campaignName);\n    segmentProperties.put(\"variationId\", variationId);\n    segmentProperties.put(\"variationName\", variationName);\n\n    // send event to Segment\n    Analytics.with(context).track(\"Experiment Viewed\", segmentProperties);\n\n  }\n};",
      "language": "java"
    },
    {
      "code": "private val receiver = object : BroadcastReceiver() {\n  override fun onReceive(context: Context, intent: Intent) {\n    // Get the campaign data for which there user has become the part.\n    val extras = intent.extras\n    val campaignId = extras!!.getString(VWO.Constants.ARG_CAMPAIGN_ID)\n    val campaignName = extras.getString(VWO.Constants.ARG_CAMPAIGN_NAME)\n    val variationId = extras.getString(VWO.Constants.ARG_VARIATION_ID)\n    val variationName = extras.getString(VWO.Constants.ARG_VARIATION_NAME)\n\n    // Create event properties object\n    val segmentProperties = Properties()\n    segmentProperties.put(\"experimentId\", campaignId)\n    segmentProperties.put(\"experimentName\", campaignName)\n    segmentProperties.put(\"variationId\", variationId)\n    segmentProperties.put(\"variationName\", variationName)\n\n    // send event to Segment\n    Analytics.with(context).track(\"Experiment Viewed\", segmentProperties)\n\n  }\n}",
      "language": "kotlin",
      "name": "Kotlin"
    }
  ]
}
[/block]